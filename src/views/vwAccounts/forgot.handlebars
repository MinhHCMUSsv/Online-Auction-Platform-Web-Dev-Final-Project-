{{#section 'css'}}
<style>
    /* --- COPY STYLE TỪ SIGNIN --- */
    .serif-font {
        font-family: "Times New Roman", Times, serif;
        font-weight: 700;
    }

    .login-box {
        background-color: #e9ecef;
        border-radius: 8px;
        padding: 10px 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .login-text {
        font-size: 0.9rem;
        font-weight: 600;
    }

    .btn-signin-nav {
        background-color: white;
        border: 2px solid black;
        color: black;
        border-radius: 20px;
        font-weight: 700;
        padding: 4px 15px;
        text-decoration: none;
        font-size: 0.8rem;
        transition: all 0.2s;
    }

    .btn-signin-nav:hover {
        background-color: black;
        color: white;
    }

    .form-control-custom {
        border-radius: 8px;
        border: 2px solid #dee2e6;
        padding: 10px 12px;
        font-weight: 600;
        font-size: 0.95rem;
        color: #495057;
    }

    .form-control-custom:focus {
        border-color: #0d6efd;
        box-shadow: none;
    }

    .btn-continue {
        background-color: #0d6efd;
        border: none;
        border-radius: 20px;
        padding: 10px;
        font-weight: 700;
        font-size: 1rem;
        width: 100%;
        margin-top: 5px;
    }

    .btn-continue:hover {
        background-color: #0b5ed7;
    }
</style>
{{/section}}

<div class="row justify-content-center mt-0 mb-3">
    <div class="col-md-6 col-lg-5" style="max-width: 380px;">

        <h1 class="text-center mb-3 serif-font" style="font-size: 2rem;">Forgot Password</h1>

        <div class="login-box mb-3">
            <span class="login-text">Remember password?</span>
            <a href="/account/signin" class="btn-signin-nav">Sign in</a>
        </div>

        <p class="text-muted text-center small mb-4">
            Enter your email address and we'll send you a link to reset your password.
        </p>

        <form method="POST" action="/account/forgot-password" id="frmForgot">

            <div class="mb-3">
                <input type="email" class="form-control form-control-custom" id="email" name="email"
                    placeholder="Enter your email:" required autofocus>
            </div>

            <button type="submit" class="btn btn-primary btn-continue">
                Send Reset Link
            </button>

        </form>
    </div>
</div>

{{#section 'js'}}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    // Lấy biến từ Server render ra (nếu có)
    const errMessage = '{{err_message}}';
    const isDone = {{#if done}}true{{else}}false{{/if}};

    // 1. Báo lỗi (ví dụ: Email không tồn tại)
    if (errMessage) {
        Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: errMessage
        });
    }

    // 2. Báo thành công (Đã gửi mail)
    if (isDone) {
        Swal.fire({
            icon: 'success',
            title: 'Email Sent!',
            text: 'Please check your inbox (and spam folder) for the reset link.',
            confirmButtonColor: '#0d6efd'
        }).then((result) => {
            // Xóa ô email sau khi gửi xong
            document.getElementById('email').value = '';
        });
    }
</script>
{{/section}}