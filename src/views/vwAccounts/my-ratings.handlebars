{{#section 'css'}}
<style>
  /* Stats Cards */
  .rating-stats {
    display: flex;
    gap: 20px;
    margin-bottom: 30px;
  }

  .stat-card {
    flex: 1;
    background: #ffffff;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    text-align: center;
    border: 1px solid #e9ecef;
  }

  .stat-card.total {
    background: #212529;
    color: white;
  }

  .stat-card.positive {
    background: #198754;
    color: white;
  }

  .stat-card.negative {
    background: #dc3545;
    color: white;
  }

  .stat-card .stat-number {
    font-size: 2.5rem;
    font-weight: 800;
    line-height: 1;
    margin-bottom: 5px;
  }

  .stat-card .stat-label {
    font-size: 0.9rem;
    opacity: 0.9;
    font-weight: 600;
  }

  /* Rating List Card */
  .ratings-card {
    background: #ffffff;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
    padding: 30px;
    border: 1px solid rgba(0, 0, 0, 0.02);
  }

  .ratings-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid #f1f1f1;
  }

  .ratings-header h4 {
    font-weight: 800;
    color: #212529;
    margin: 0;
  }

  /* Rating Item */
  .rating-item {
    display: flex;
    padding: 20px 0;
    border-bottom: 1px dashed #e9ecef;
    transition: background-color 0.2s;
  }

  .rating-item:last-child {
    border-bottom: none;
  }

  .rating-item:hover {
    background-color: #f8f9fa;
    margin: 0 -15px;
    padding: 20px 15px;
    border-radius: 10px;
  }

  .rating-avatar {
    width: 50px;
    height: 50px;
    background: #FF8C00;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    font-weight: 700;
    color: white;
    margin-right: 15px;
    flex-shrink: 0;
  }

  .rating-content {
    flex: 1;
  }

  .rating-meta {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;
  }

  .rating-username {
    font-weight: 700;
    color: #212529;
    font-size: 1rem;
  }

  .rating-date {
    color: #6c757d;
    font-size: 0.85rem;
  }

  .rating-comment {
    color: #495057;
    font-size: 0.95rem;
    line-height: 1.5;
    margin: 0;
  }

  /* Rating Badge */
  .rating-badge {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 60px;
    margin-left: 15px;
  }

  .badge-positive {
    background: #198754;
    color: white;
    padding: 8px 15px;
    border-radius: 25px;
    font-weight: 700;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .badge-negative {
    background: #dc3545;
    color: white;
    padding: 8px 15px;
    border-radius: 25px;
    font-weight: 700;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  /* Empty State */
  .empty-ratings {
    text-align: center;
    padding: 60px 20px;
  }

  .empty-ratings i {
    font-size: 4rem;
    color: #dee2e6;
    margin-bottom: 20px;
  }

  .empty-ratings h5 {
    font-weight: 700;
    color: #6c757d;
    margin-bottom: 10px;
  }

  .empty-ratings p {
    color: #adb5bd;
  }

  /* Page Title */
  .page-title {
    display: flex;
    align-items: center;
    margin-bottom: 25px;
  }

  .page-title h3 {
    font-weight: 800;
    color: #212529;
    margin: 0;
  }

  .page-title .title-icon {
    width: 45px;
    height: 45px;
    background: #FF8C00;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 15px;
  }

  .page-title .title-icon i {
    color: white;
    font-size: 1.3rem;
  }

  /* Percentage Bar */
  .rating-percentage {
    margin-top: 15px;
  }

  .percentage-bar {
    height: 8px;
    background: #e9ecef;
    border-radius: 10px;
    overflow: hidden;
  }

  .percentage-fill {
    height: 100%;
    background: #198754;
    border-radius: 10px;
    transition: width 0.5s ease;
  }

  .percentage-text {
    font-size: 0.85rem;
    color: #6c757d;
    margin-top: 5px;
  }
</style>
{{/section}}

{{#section 'js'}}
<script>
  $(document).ready(function() {
    // Animate stats numbers
    $('.stat-number').each(function() {
      const $this = $(this);
      const countTo = parseInt($this.text());
      
      $({ countNum: 0 }).animate({
        countNum: countTo
      }, {
        duration: 800,
        easing: 'swing',
        step: function() {
          $this.text(Math.floor(this.countNum));
        },
        complete: function() {
          $this.text(this.countNum);
        }
      });
    });
  });
</script>
{{/section}}

<!-- Page Title -->
<div class="page-title">
  <div class="title-icon">
    <i class="bi bi-star-fill"></i>
  </div>
  <h3>My Ratings</h3>
</div>

<!-- Stats Cards -->
<div class="rating-stats">
  <div class="stat-card total">
    <div class="stat-number">{{totalRatings}}</div>
    <div class="stat-label"><i class="bi bi-chat-quote me-1"></i>Total Ratings</div>
  </div>
  <div class="stat-card positive">
    <div class="stat-number">{{positiveCount}}</div>
    <div class="stat-label"><i class="bi bi-emoji-smile me-1"></i>Positive</div>
  </div>
  <div class="stat-card negative">
    <div class="stat-number">{{negativeCount}}</div>
    <div class="stat-label"><i class="bi bi-emoji-frown me-1"></i>Negative</div>
  </div>
</div>

<!-- Positive Percentage -->
{{#if totalRatings}}
<div class="rating-percentage mb-4">
  <div class="percentage-bar">
    <div class="percentage-fill" style="width: {{positivePercentage}}%"></div>
  </div>
  <div class="percentage-text">
    <i class="bi bi-graph-up-arrow text-success me-1"></i>
    {{positivePercentage}}% positive feedback
  </div>
</div>
{{/if}}

<!-- Ratings List -->
<div class="ratings-card">
  <div class="ratings-header">
    <h4><i class="bi bi-chat-left-text me-2"></i>All Feedback</h4>
    <span class="badge bg-secondary">{{totalRatings}} reviews</span>
  </div>

  {{#if ratings.length}}
    {{#each ratings}}
    <div class="rating-item">
      <div class="rating-avatar">
        {{#if this.full_name}}{{this.full_name.[0]}}{{else}}U{{/if}}
      </div>
      <div class="rating-content">
        <div class="rating-meta">
          <span class="rating-username">{{this.full_name}}</span>
          <span class="rating-date">
            <i class="bi bi-clock me-1"></i>
            {{formatDate this.created_at "DD/MM/YYYY"}}
          </span>
        </div>
        <p class="rating-comment">
          {{#if this.comment}}
            "{{this.comment}}"
          {{else}}
            <em class="text-muted">No comment provided</em>
          {{/if}}
        </p>
      </div>
      <div class="rating-badge">
        {{#if (eq this.rate 1)}}
          <span class="badge-positive">
            <i class="bi bi-plus-lg"></i>1
          </span>
        {{else}}
          <span class="badge-negative">
            <i class="bi bi-dash-lg"></i>1
          </span>
        {{/if}}
      </div>
    </div>
    {{/each}}
  {{else}}
    <div class="empty-ratings">
      <i class="bi bi-chat-square-heart"></i>
      <h5>No ratings yet</h5>
      <p>You haven't received any ratings from other users yet.</p>
    </div>
  {{/if}}
</div>
